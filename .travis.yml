language: node_js
node_js: "16"

deploy:
  provider: releases
  api_key: $GITHUB_TOKEN
  skip_cleanup: true
  on:
    branch: develop
    tags: true
before_script:
    - cd client
    - npm install react-scripts
cache:
  directories:
    - client/node_modules
script:
  - npm test
  - npm run build
